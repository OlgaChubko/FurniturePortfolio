!function(a,b,c,d,e){a.fn.multiscroll=function(f){function n(){var c=b.location.hash.replace("#",""),d=c;if(d.length){var e=a(".ms-left").find('[data-anchor="'+d+'"]'),f="undefined"==typeof lastScrolledDestiny;(f||d!==lastScrolledDestiny)&&w(e)}}function p(b){clearTimeout(o);var d=a(c.activeElement);if(!d.is("textarea")&&!d.is("input")&&!d.is("select")&&f.keyboardScrolling){var e=b.which,g=[40,38,32,33,34];a.inArray(e,g)>-1&&b.preventDefault(),o=setTimeout(function(){q(b)},150)}}function q(b){var c=b.shiftKey;switch(b.which){case 38:case 33:g.moveSectionUp();break;case 32:if(c){g.moveSectionUp();break}case 40:case 34:g.moveSectionDown();break;case 36:g.moveTo(1);break;case 35:g.moveTo(a(".ms-left .ms-section").length);break;default:return}}function r(b){b.preventDefault();var c=a(this).parent().index();w(a(".ms-left .ms-section").eq(c))}function s(){var b=a(this).data("tooltip");a('<div class="multiscroll-tooltip '+f.navigationPosition+'">'+b+"</div>").hide().appendTo(a(this)).fadeIn(200)}function t(){a(this).find(".multiscroll-tooltip").fadeOut(200,function(){a(this).remove()})}function u(){m=a(b).height(),a(".ms-tableCell").each(function(){a(this).css({height:J(a(this).parent())})}),v(),a.isFunction(f.afterResize)&&f.afterResize.call(this)}function v(){f.css3?(A(a(".ms-left"),"translate3d(0px, -"+a(".ms-left").find(".ms-section.active").position().top+"px, 0px)",!1),A(a(".ms-right"),"translate3d(0px, -"+a(".ms-right").find(".ms-section.active").position().top+"px, 0px)",!1)):(a(".ms-left").css("top",-a(".ms-left").find(".ms-section.active").position().top),a(".ms-right").css("top",-a(".ms-right").find(".ms-section.active").position().top))}function w(b){var c=b.index(),d=a(".ms-right").find(".ms-section").eq(j-1-c),g=b.data("anchor"),i=a(".ms-left .ms-section.active"),l=i.index()+1,m=E(b);k=!0;var n={left:b.position().top,right:d.position().top};if(d.addClass("active").siblings().removeClass("active"),b.addClass("active").siblings().removeClass("active"),F(g),f.css3){a.isFunction(f.onLeave)&&f.onLeave.call(this,l,c+1,m);var o="translate3d(0px, -"+n.left+"px, 0px)",p="translate3d(0px, -"+n.right+"px, 0px)";A(a(".ms-left"),o,!0),A(a(".ms-right"),p,!0),setTimeout(function(){a.isFunction(f.afterLoad)&&f.afterLoad.call(this,g,c+1),setTimeout(function(){k=!1},h)},f.scrollingSpeed)}else a.isFunction(f.onLeave)&&f.onLeave.call(this,l,c+1,m),a(".ms-left").animate({top:-n.left},f.scrollingSpeed,f.easing,function(){a.isFunction(f.afterLoad)&&f.afterLoad.call(this,g,c+1),setTimeout(function(){k=!1},h)}),a(".ms-right").animate({top:-n.right},f.scrollingSpeed,f.easing);lastScrolledDestiny=g,D(g),C(g,c)}function x(){c.addEventListener?(c.removeEventListener("mousewheel",z,!1),c.removeEventListener("wheel",z,!1)):c.detachEvent("onmousewheel",z)}function y(){c.addEventListener?(c.addEventListener("mousewheel",z,!1),c.addEventListener("wheel",z,!1)):c.attachEvent("onmousewheel",z)}function z(a){a=b.event||a;var c=d.max(-1,d.min(1,a.wheelDelta||-a.deltaY||-a.detail));return k||(c<0?g.moveSectionDown():g.moveSectionUp()),!1}function A(a,b,c){a.toggleClass("ms-easing",c),a.css(B(b))}function B(a){return{"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,transform:a}}function C(b,c){f.navigation&&(a("#multiscroll-nav").find(".active").removeClass("active"),b?a("#multiscroll-nav").find('a[href="#'+b+'"]').addClass("active"):a("#multiscroll-nav").find("li").eq(c).find("a").addClass("active"))}function D(b){f.menu&&(a(f.menu).find(".active").removeClass("active"),a(f.menu).find('[data-menuanchor="'+b+'"]').addClass("active"))}function E(b){var c=a(".ms-left .ms-section.active").index(),d=b.index();return c>d?"up":"down"}function F(a){f.anchors.length&&(location.hash=a),G()}function G(){var b=a(".ms-left .ms-section.active"),c=b.data("anchor"),d=b.index(),e=String(d);f.anchors.length&&(e=c),e=e.replace("/","-").replace("#","");var g=new RegExp("\\b\\s?ms-viewing-[^\\s]+\\b","g");a("body")[0].className=a("body")[0].className.replace(g,""),a("body").addClass("ms-viewing-"+e)}function H(){var d,a=c.createElement("p"),f={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};c.body.insertBefore(a,null);for(var g in f)a.style[g]!==e&&(a.style[g]="translate3d(1px,1px,1px)",d=b.getComputedStyle(a).getPropertyValue(f[g]));return c.body.removeChild(a),d!==e&&d.length>0&&"none"!==d}function I(a){a.addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+J(a)+'px" />')}function J(a){var b=m;if(f.paddingTop||f.paddingBottom){var c=parseInt(a.css("padding-top"))+parseInt(a.css("padding-bottom"));b=m-c}return b}function K(){var c=b.location.hash.replace("#",""),d=a('.ms-left .ms-section[data-anchor="'+c+'"]');c.length&&w(d)}function P(c){var e=c.originalEvent;if(Q(e)){c.preventDefault();a(".ms-left .ms-section.active");if(!k){var i=V(e);N=i.y,O=i.x,d.abs(L-N)>a(b).height()/100*f.touchSensitivity&&(L>N?g.moveSectionDown():N>L&&g.moveSectionUp())}}}function Q(a){return"undefined"==typeof a.pointerType||"mouse"!=a.pointerType}function R(a){var b=a.originalEvent;if(Q(b)){var c=V(b);L=c.y,M=c.x}}function S(){i&&(MSPointer=U(),a(c).off("touchstart "+MSPointer.down).on("touchstart "+MSPointer.down,R),a(c).off("touchmove "+MSPointer.move).on("touchmove "+MSPointer.move,P))}function T(){i&&(MSPointer=U(),a(c).off("touchstart "+MSPointer.down),a(c).off("touchmove "+MSPointer.move))}function U(){var a;return a=b.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function V(a){var b=[];return b.y="undefined"!=typeof a.pageY&&(a.pageY||a.pageX)?a.pageY:a.touches[0].pageY,b.x="undefined"!=typeof a.pageX&&(a.pageY||a.pageX)?a.pageX:a.touches[0].pageX,i&&Q(a)&&(b.y=a.touches[0].pageY,b.x=a.touches[0].pageX),b}var g=a.fn.multiscroll;f=a.extend({verticalCentered:!0,scrollingSpeed:700,easing:"easeInQuart",menu:!1,sectionsColor:[],anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:!1,loopTop:!1,css3:!1,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:!0,touchSensitivity:5,sectionSelector:".ms-section",leftSelector:".ms-left",rightSelector:".ms-right",afterLoad:null,onLeave:null,afterRender:null,afterResize:null},f);var h=600,i="ontouchstart"in b||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints;".ms-right"!==f.rightSelector&&a(f.rightSelector).addClass("ms-right"),".ms-left"!==f.leftSelector&&a(f.leftSelector).addClass("ms-left");var l,j=a(".ms-left").find(".ms-section").length,k=!1,m=a(b).height();y(),S(),f.css3&&(f.css3=H()),a("html, body").css({overflow:"hidden",height:"100%"}),".ms-section"!==f.sectionSelector&&a(f.sectionSelector).each(function(){a(this).addClass("ms-section")}),f.navigation&&(a("body").append('<div id="multiscroll-nav"><ul></ul></div>'),l=a("#multiscroll-nav"),l.css("color",f.navigationColor),l.addClass(f.navigationPosition)),a(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"}),a(".ms-right").css({right:"1px",top:"0","-ms-touch-action":"none","touch-action":"none"}),a(".ms-left").css({left:"0",top:"0","-ms-touch-action":"none","touch-action":"none"}),a(".ms-left .ms-section, .ms-right .ms-section").each(function(){var b=a(this).index();if((f.paddingTop||f.paddingBottom)&&a(this).css("padding",f.paddingTop+" 0 "+f.paddingBottom+" 0"),"undefined"!=typeof f.sectionsColor[b]&&a(this).css("background-color",f.sectionsColor[b]),"undefined"!=typeof f.anchors[b]&&a(this).attr("data-anchor",f.anchors[b]),f.verticalCentered&&I(a(this)),a(this).closest(".ms-left").length&&f.navigation){var c="";f.anchors.length&&(c=f.anchors[b]);var d=f.navigationTooltips[b];"undefined"==typeof d&&(d=""),f.navigation&&l.find("ul").append('<li data-tooltip="'+d+'"><a href="#'+c+'"><span></span></a></li>')}}),a(".ms-right").html(a(".ms-right").find(".ms-section").get().reverse()),a(".ms-left .ms-section, .ms-right .ms-section").each(function(){var b=a(this).index();a(this).css({height:"100%"}),!b&&f.navigation&&l.find("li").eq(b).find("a").addClass("active")}).promise().done(function(){a(".ms-left .ms-section.active").length||(a(".ms-right").find(".ms-section").last().addClass("active"),a(".ms-left").find(".ms-section").first().addClass("active")),f.navigation&&l.css("margin-top","-"+l.height()/2+"px"),a.isFunction(f.afterRender)&&f.afterRender.call(this),v(),G(),a(b).on("load",function(){K()})}),a(b).on("hashchange",n),a(c).keydown(p);var o;a(c).mousedown(function(a){if(1==a.button)return a.preventDefault(),!1}),a(c).on("click","#multiscroll-nav a",r),a(c).on({mouseenter:s,mouseleave:t},"#multiscroll-nav li"),f.normalScrollElements&&(a(c).on("mouseenter",f.normalScrollElements,function(){g.setMouseWheelScrolling(!1)}),a(c).on("mouseleave",f.normalScrollElements,function(){g.setMouseWheelScrolling(!0)})),a(b).on("resize",u),g.moveSectionUp=function(){var b=a(".ms-left .ms-section.active").prev(".ms-section");!b.length&&f.loopTop&&(b=a(".ms-left .ms-section").last()),b.length&&w(b)},g.moveSectionDown=function(){var b=a(".ms-left .ms-section.active").next(".ms-section");!b.length&&f.loopBottom&&(b=a(".ms-left .ms-section").first()),b.length&&w(b)},g.moveTo=function(b){var c="";c=isNaN(b)?a('.ms-left [data-anchor="'+b+'"]'):a(".ms-left .ms-section").eq(b-1),w(c)},g.setKeyboardScrolling=function(a){f.keyboardScrolling=a},g.setMouseWheelScrolling=function(a){a?y():x()},g.setScrollingSpeed=function(a){f.scrollingSpeed=a};var L=0,M=0,N=0,O=0;g.destroy=function(){g.setKeyboardScrolling(!1),g.setMouseWheelScrolling(!1),T(),a(b).off("hashchange",n).off("resize",u),a(c).off("mouseenter","#multiscroll-nav li").off("mouseleave","#multiscroll-nav li").off("click","#multiscroll-nav a")},g.build=function(){g.setKeyboardScrolling(!0),g.setMouseWheelScrolling(!0),S(),a(b).on("hashchange",n).on("resize",u),a(c).on("mouseenter","#multiscroll-nav li",s).on("mouseleave","#multiscroll-nav li",t).on("click","#multiscroll-nav a",r)}}}(jQuery,window,document,Math);